import{S as c,f as r,G as o,b as f,a as g,e as u,s}from"./index-iXdiA8If.js";function y(e){return`${c.GAME_STREAM}:${e}`}const m=(e,t)=>{var a,n;return t?((a=e.whitePlayer)==null?void 0:a.id)===t||((n=e.blackPlayer)==null?void 0:n.id)===t:!1},G=(e,t)=>{var a,n;if(t){if(((a=e.whitePlayer)==null?void 0:a.id)===t)return!0;if(((n=e.blackPlayer)==null?void 0:n.id)===t)return!1}},S=(e,t)=>t===void 0?!1:e===t,E=(e,t)=>{e.pgn=t.pgn();const a=t.isGameOver();return a&&(e.isOver=a,e.hasWhitePlayerWon=a?t.turn()==="b":void 0),e};async function d(){return await r(o.GET_ALL)}async function P(e){if(!f())return i(e);try{return await r(o.GET_BY_SLUG(e))}catch{return i(e)}}async function i(e){return await r(o.GET_SPECTATE_BY_SLUG(e))}async function _(e,t){return await r(o.RECORD_MOVE(e),{method:g.POST,body:JSON.stringify(t)})}async function v(e,t){u(s,c.JOIN_GAME_STREAM,e),s.on(y(e),t)}export{P as a,G as b,m as c,S as d,d as g,v as j,_ as r,E as s};
